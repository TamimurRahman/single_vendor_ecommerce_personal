тЬЕ Category Model ржмрзНржпрж╛ржЦрзНржпрж╛
class Category(models.Model):
    name = models.CharField(max_length=100)
    slug = models.SlugField(max_length=100,unique=True)
    description = models.TextField(blank=True)

ЁЯФН ржкрзНрж░рждрж┐ржЯрж┐ ржлрж┐рж▓рзНржб ржХрзА ржХрж╛ржЬ ржХрж░рзЗ?

name:
ЁЯСЙ ржХрзНржпрж╛ржЯрзЗржЧрж░рж┐рж░ ржирж╛ржо тАФ ржпрзЗржоржи "Electronics", "Books", "Shoes"

slug:
ЁЯСЙ ржПржЯрж┐ URL-friendly ржирж╛ржоред
ржпрзЗржоржи:

Electronics тЖТ electronics

Mobile Phones тЖТ mobile-phones
ржПржмржВ unique=True ржорж╛ржирзЗ ржжрзБржЗржЯрж╛ slug ржПржХржЗ рж╣ржмрзЗ ржирж╛ред

description:
ЁЯСЙ ржХрзНржпрж╛ржЯрзЗржЧрж░рж┐рж░ ржЫрзЛржЯржЦрж╛ржЯрзЛ ржмрж░рзНржгржирж╛ред blank=True = ржлрж╛ржБржХрж╛ рж░рж╛ржЦрж╛ ржпрж╛ржмрзЗред

Meta Class
class Meta:
    verbose_name_plural = 'Categories'


ЁЯСЙ Django admin-ржП "Categorys" ржирж╛ ржжрзЗржЦрж┐рзЯрзЗ "Categories" ржжрзЗржЦрж╛ржмрзЗред

str
def __str__(self):
    return self.name


ЁЯСЙ Django admin ржП category ржирж╛ржо ржжрзЗржЦрж╛ржмрзЗред

тЬЕ Product Model ржмрзНржпрж╛ржЦрзНржпрж╛
class Product(models.Model):
    name = models.CharField(max_length=200)
    slug = models.SlugField(max_length=200,unique=True)
    category = models.ForeignKey(Category,on_delete=models.CASCADE,related_name='products')
    description = models.TextField()
    price = models.DecimalField(max_digits=10,decimal_places=2)
    stock = models.PositiveBigIntegerField(default=1)
    available = models.BooleanField(default=True)
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)
    image = models.ImageField(upload_to='products/%Y/%m/%d')

ЁЯФН Field-wise Explanation

name:
ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржирж╛ржо ржпрзЗржоржи "iPhone 15", "HP Laptop"

slug:
ржкрзНрж░рзЛржбрж╛ржХрзНржЯ URL-friendly ржирж╛ржо
ржпрзЗржоржи: iphone-15

category (ForeignKey):
Product ржХрзЛржи Category ржПрж░ ржЕржирзНрждрж░рзНржнрзБржХрзНржд рждрж╛ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗред
ржпрзЗржоржи:

"iPhone" тЖТ Electronics Category

on_delete=models.CASCADE
ЁЯСЙ category delete рж╣рж▓рзЗ product ржЧрзБрж▓рзЛржУ delete рж╣ржмрзЗред

related_name='products'
ЁЯСЙ Category ржерзЗржХрзЗ product access ржХрж░рж╛ ржпрж╛ржмрзЗ:

category.products.all()


description:
ржкрзНрж░рзЛржбрж╛ржХрзНржЯрзЗрж░ ржмрж░рзНржгржирж╛ред

price:
ржжрж╛ржоред decimal_places=2 ржорж╛ржирзЗ like 1299.99

stock:
ржХржд ржкрж░рж┐ржорж╛ржг stock ржЖржЫрзЗред PositiveBigIntegerField = negative рж╣ржмрзЗ ржирж╛ред

available:
ржкржгрзНржп available ржХрж┐ржирж╛ (True/False)

created:
ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржХржЦржи рждрзИрж░рж┐ рж╣рж▓рзЛ тЖТ timestamp

updated:
рж╢рзЗрж╖ржмрж╛рж░ ржХржЦржи edit рж╣рж▓рзЛ тЖТ auto update

image:
ржЫржмрж┐ upload рж╣ржмрзЗ folder рж╣рж┐рж╕рзЗржмрзЗ:

products/2025/12/06/image.jpg

тнР Product Average Rating Method
def average_rating(self):
    ratings = self.ratings.all()
    if ratings.count()>0:
        return sum([rating.rating for rating in ratings])/ratings.count()

ЁЯФН Explanation:

self.ratings ржорж╛ржирзЗ ржПржЗ product-ржПрж░ рж╕ржм rating

ржорзЛржЯ rating ржпрзЛржЧ тЖТ ржнрж╛ржЧ ржжрзЗржЗ тЖТ average rating ржмрзЗрж░ рж╣рзЯ
ржпрзЗржоржи: ratings: 5, 4, 3 тЖТ average = 4.0

тЬЕ Rating Model ржмрзНржпрж╛ржЦрзНржпрж╛
class Rating(models.Model):
    product = models.ForeignKey(Product,on_delete=models.CASCADE, related_name='ratings')
    user = models.ForeignKey(User,on_delete=models.CASCADE)
    rating = models.PositiveSmallIntegerField(validators=[MinValueValidator(1), MaxValueValidator(5)])
    comment = models.TextField()
    created = models.DateTimeField(auto_now_add=True)

ЁЯФН Field-wise Explanation

product:
ржХрзЛржи product-ржХрзЗ rating ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛ

user:
ржХрзЛржи user rating ржжрж┐рж▓рзЛ

rating:
рж╢рзБржзрзБ 1 ржерзЗржХрзЗ 5 ржкрж░рзНржпржирзНржд ржорж╛ржиржЗ ржжрзЗржУрзЯрж╛ ржпрж╛ржмрзЗ
(validators ржжрж┐рзЯрзЗ ржЪрзЗржХ рж╣рзЯ)

comment:
review message ржпрзЗржоржи: "Great product!"

created:
review ржХржмрзЗ ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛ

ЁЯФР Unique Constraint
class Meta:
    unique_together = ('product','user')


ЁЯСЙ ржПржХржЬржи user ржПржХржЯрж┐ product-ржП ржПржХржмрж╛рж░ржЗ rating ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗред
ржжрзБржЗржмрж╛рж░ ржжрж┐рждрзЗ ржЪрж╛ржЗрж▓рзЗ error рж╣ржмрзЗред

str
def __str__(self):
    return f'{self.user.username} - {self.product.name} - {self.rating}'


ЁЯСЙ Django admin ржП display рж╣ржмрзЗ:

tamimur - iPhone 15 - 5

ЁЯОЙ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк (Super Simple)
Model	ржХрж╛ржЬ
Category	ржкрзНрж░рзЛржбрж╛ржХрзНржЯрзЗрж░ ржЧрзНрж░рзБржк/ржХрзНржпрж╛ржЯрзЗржЧрж░рж┐
Product	ржкрзНрж░рзЛржбрж╛ржХрзНржЯрзЗрж░ ржорзВрж▓ рждржерзНржп, ржжрж╛ржо, ржЫржмрж┐
Rating	ржХрзЛржи ржЗржЙржЬрж╛рж░рзЗрж░ рж░рзЗржЯрж┐ржВ + ржХржорзЗржирзНржЯ

Relationships:

рззржЯрж┐ Category тЖТ ржЕржирзЗржХ Product

рззржЯрж┐ Product тЖТ ржЕржирзЗржХ Rating

рзз User тЖТ рзз Product-ржП рж╢рзБржзрзБ рззржЯрж┐ rating ржжрж┐рждрзЗ ржкрж╛рж░рзЗ

<---------------prompt 2----------rating a forign key keno use kora hoi--------------->
тЬЕ ForeignKey ржХрзА ржХрж░рзЗ?

ForeignKey рж╢рзБржзрзБ ржмрж▓рзЗтАФ

ржПржХржЯрж┐ Rating тЖТ ржПржХржЯрж┐ Product ржПрж░ рж╕рж╛ржерзЗ рж▓рж┐ржВржХ рж╣ржмрзЗ

ржПржмржВ ржПржХржЯрж┐ Rating тЖТ ржПржХржЯрж┐ User ржПрж░ рж╕рж╛ржерзЗ рж▓рж┐ржВржХ рж╣ржмрзЗ

ржХрж┐ржирзНрждрзБ ForeignKey limit ржХрж░рзЗ ржирж╛ ржпрзЗ
ржПржХржЬржи user ржПржХржЯрж┐ product-ржП ржПржХржмрж╛рж░ржЗ rating ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗред

ржорж╛ржирзЗ:

тЭМ рж╢рзБржзрзБ ForeignKey ржерж╛ржХрж▓рзЗ:

ржПржХржЬржи user ржПржХржЗ product-ржП
рзй ржмрж╛рж░ rating ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗред

ржХрж╛рж░ржг ForeignKey ржмрж╛рж░ржмрж╛рж░ pointing ржХрж░рждрзЗ ржкрж╛рж░рзЗред

тЬЕ рждрж╛рж╣рж▓рзЗ рзз User тЖТ рзз Product тЖТ рзз Rating ржХрж┐ржнрж╛ржмрзЗ ржирж┐рж╢рзНржЪрж┐ржд рж╣рзЯ?

ржПржЗ ржХрж╛ржЬржЯрж╛ ржХрж░рзЗ:

class Meta:
    unique_together = ('product', 'user')


ржПрж░ ржорж╛ржирзЗ:

ЁЯСЙ ржПржХржЗ product ржПржмржВ ржПржХржЗ user combination
ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржжрзНржмрж┐рждрзАрзЯржмрж╛рж░ insert ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред

ржЙржжрж╛рж╣рж░ржг:
product	user	rating	Allowed?
iPhone	Tamim	5	тЬФ Allowed
iPhone	Tamim	4	тЭМ Not allowed
iPhone	Zisan	3	тЬФ Allowed
Laptop	Tamim	5	тЬФ Allowed
ЁЯФе рж╕рж╣ржЬ ржмрж╛ржВрж▓рж╛ржпрж╝ ржмрзБржЭрзЛ:

ForeignKey тЖТ рж╕ржорзНржкрж░рзНржХ рждрзИрж░рж┐ ржХрж░рзЗ

unique_together тЖТ ржПржХржЗ relation ржпрзЗржи ржкрзБржирж░рж╛рзЯ рждрзИрж░рж┐ ржирж╛ рж╣рзЯ рждрж╛ ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рзЗ


<------------------------prompt3---------------- keno in rating class e reating field e fk insted a One2one use kora hoi ni-------------------->
рж╕ржВржХрзНрж╖рзЗржкрзЗ ржЙрждрзНрждрж░: ржирж╛ тАФ OneToOneField ржПржЦрж╛ржирзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржарж┐ржХ рж╣ржмрзЗ ржирж╛ред

ржХрзЗржи? ржЪрж▓ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрзБржЭрж┐ред

ЁЯФН 1. OneToOneField ржХрзА ржХрж╛ржЬ ржХрж░рзЗ?

OneToOne ржорж╛ржирзЗ:

ЁЯСЙ ржПржХржЯрж┐ Product тЖТ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ Rating
ЁЯСЙ ржПржХржЯрж┐ User тЖТ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ Rating

ржЕрж░рзНржерж╛рзО ржкрзБрж░рзЛ ржкрзНрж░рзЛржЬрзЗржХрзНржЯрзЗ ржорзЛржЯ рж╕рж░рзНржмрзЛржЪрзНржЪ ржХрзЯрзЗржХржЯрж┐ рж░рзЗржЯрж┐ржВ ржерж╛ржХржмрзЗред
ржпрж╛ рж╕ржорзНржкрзВрж░рзНржг ржнрзБрж▓ тАФ ржХрж╛рж░ржг ржкрзНрж░рждрзНржпрзЗржХ product-ржП ржЕржирзЗржХ user rating ржжрж┐рждрзЗ ржкрж╛рж░рзЗред

тЭМ ржХрзЗржи OneToOne ржнрзБрж▓?

ржпржжрж┐ рждрзБржорж┐ OneToOne ржжрж╛ржУ:

product = models.OneToOneField(Product, ...)
user = models.OneToOneField(User, ...)


рждрж╛рж╣рж▓рзЗ:

ржПржХ Product тЖТ рж╢рзБржзрзБ рззржЯрж╛ rating

ржПржХ User тЖТ рж╢рзБржзрзБ рззржЯрж╛ rating

ржЕржирзЗржХ ржорж╛ржирзБрж╖ ржПржХржЯрж┐ product-ржП рж░рзЗржЯ ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛

ржЕржирзЗржХ product-ржП ржПржХржЬржи user рж░рзЗржЯ ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛

ржПржЯрж╛ ржкрзБрж░рзЛ rating system ржирж╖рзНржЯ ржХрж░рзЗ ржжрзЗржмрзЗред

тЬФ рж╕ржарж┐ржХ рж╕ржорж╛ржзрж╛ржи: Many-to-One + unique_together

ржПржЯрж╛ржЗ industry standardред

Many users can rate 1 product

1 user can rate many products

ржХрж┐ржирзНрждрзБ рзз user ржПржХржЯрж┐ product-ржП рж╢рзБржзрзБ ржПржХржмрж╛рж░ рж░рзЗржЯ ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗ

ржПржЯрж╛ржЗ рждрзЛржорж╛рж░ ржкрзНрж░рзЯрзЛржЬржи тАФ ржПржмржВ рж╕рзЗржЯрж╛ exactly unique_together ржжрж┐рзЯрзЗ рж╣рзЯ:

class Meta:
    unique_together = ('product','user')


ржПржЯрж╛ржЗ perfectред

ЁЯФе рж╕рж╣ржЬ ржмрж╛ржирж┐рзЯрзЗ ржмрж▓рж┐:
Relationship	          ржЪрж╛ржУрзЯрж╛?	          ржХрзЗржи?
OneToOne	             тЭМ ржирж╛	            Product ржП рж╣рж╛ржЬрж╛рж░ user рж░рзЗржЯ ржжрж┐рждрзЗ ржкрж╛рж░рзЗ
ForeignKey(Many-to-One)	  тЬФ рж╣рзНржпрж╛ржБ	            User тЖТ many ratings, Product тЖТ many ratings
unique_together	          тЬФ рж╣рзНржпрж╛ржБ	            ржПржХржЗ user ржпрзЗржи ржПржХржЗ product-ржП рж╢рзБржзрзБ рззржмрж╛рж░ rating ржжрзЗрзЯ


тнР ржЙржкрж╕ржВрж╣рж╛рж░ (ржПржХ рж▓рж╛ржЗржирзЗ):

ЁЯСЙ OneToOne ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ ржирж╛ тЖТ ржХрж╛рж░ржг rating system ржП multiple user reviews ржерж╛ржХрж╛ рж▓рж╛ржЧрзЗред
ЁЯСЙ ForeignKey + unique_together = рж╕ржарж┐ржХ ржУ best solutionред

<------------------------------ prompt 4 -------- auto_now_add ржПржмржВ auto_now тАФ ржПржЗ ржжрзБржЗржЯрж╛рж░ ржХрж╛ржЬ ржЖрж▓рж╛ржжрж╛ред------>

тЬЕ 1. auto_now_add=True

ЁЯСЙ Object ржпржЦржи ржкрзНрж░ржержоржмрж╛рж░ рждрзИрж░рж┐ рж╣рзЯ рждржЦржи timestamp рж╕рзЗржЯ рж╣ржмрзЗред
ЁЯСЙ ржкрж░рзЗ update ржХрж░рж▓рзЗ ржЖрж░ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ ржирж╛ред

ржЙржжрж╛рж╣рж░ржг:

рждрзБржорж┐ ржирждрзБржи Product рждрзИрж░рж┐ ржХрж░рж▓рзЗ:

created = ржПржЦржиржХрж╛рж░ рж╕ржорзЯ

ржкрж░ржмрж░рзНрждрзАрждрзЗ Product update ржХрж░рж▓рзЗ тЖТ created ржПржХржЗ ржерж╛ржХржмрзЗ

ржХрж╛ржЬ:

тЬФ Only once set
тЬФ Creation time

тЬЕ 2. auto_now=True

ЁЯСЙ ржкрзНрж░рждрж┐ржмрж╛рж░ object update/save рж╣рж▓рзЗ timestamp update рж╣рзЯред

ржЙржжрж╛рж╣рж░ржг:

рждрзБржорж┐ product update ржХрж░рж▓рзЗ:

updated = ржПржЦржиржХрж╛рж░ рж╕ржорзЯ

ржпрждржмрж╛рж░ save ржХрж░ржмрзЗ тАФ updated рждрждржмрж╛рж░ change рж╣ржмрзЗ

ржХрж╛ржЬ:

тЬФ Every update
тЬФ Last modified time

ЁЯУМ Short Summary (Super Simple)
Field	,      ржХржЦржи рж╕ржорзЯ рж╕рзЗржЯ рж╣рзЯ?	        ржХржЦржи ржЖржкржбрзЗржЯ рж╣рзЯ?
auto_now_add	object рждрзИрж░рж┐ рж╣рж▓рзЗ	           ржкрж░рзЗ ржЖрж░ ржирж╛
auto_now	    рждрзИрж░рж┐ рж╣рж▓рзЗ	               ржкрзНрж░рждрж┐ржмрж╛рж░ save/update ржП


ЁЯза Example Timeline

Product рждрзИрж░рж┐ ржХрж░рзЛ тЖТ
created = 2025-12-06 10:00 AM
updated = 2025-12-06 10:00 AM

рзйрзж ржорж┐ржирж┐ржЯ ржкрж░рзЗ Product edit ржХрж░рж▓рзЗ тЖТ
created = same (change рж╣ржмрзЗ ржирж╛)
updated = 2025-12-06 10:30 AM

тнР ржПржХ рж▓рж╛ржЗржирзЗрж░ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк:

ЁЯСЙ auto_now_add тЖТ created time
ЁЯСЙ auto_now тЖТ last updated time

